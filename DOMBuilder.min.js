/**
 * DOMBuilder 1.4.1 - https://github.com/insin/DOMBuilder
 * MIT licensed
 */
(function(B,F){function u(a,c){for(var b in c)a[b]=c[b];return a}function v(a){for(var c={},b=0,d=a.length;b<d;b++)c[a[b]]=true;return c}function q(a,c){function b(){}b.prototype=c.prototype;a.prototype=new b;a.prototype.constructor=a}function m(a){return w.call(a)==="[object Array]"}function x(a){return w.call(a)==="[object Function]"}function C(a){for(var c=0,b=a.length;c<b;c++){var d=a[c];if(m(d)){b+=d.length-1;Array.prototype.splice.apply(a,[c,1].concat(d));c--}}}function y(a){return a.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;").split("'").join("&#39;")}
function r(a){if(a instanceof i)return a.value;return y(""+a)}function i(a){this.value=a}function j(a){this.childNodes=a||[];this._inlineFragments()}function g(a,c,b){j.call(this,b);this.tagName=this.nodeName=a.toLowerCase();this.attributes=c||{};this.xhtml=k.mode=="XHTML"}function h(a){j.call(this,a)}function G(a){var c=function(){var b;if(arguments.length===0)b=k.mode=="DOM"?l.createElement(a):new g(a);else{var d=o.call(arguments),e=d.length,f=d[0];if(e===1&&m(f))d=f;else if(f&&w.call(f)==="[object Object]"&&
!f.nodeType&&!(f instanceof i)){b=f;d=e==2&&m(d[1])?d[1]:o.call(d,1)}else d=o.call(d);b=k.createElement(a,b,d)}return b};c.map=function(){var b=o.call(arguments);b.unshift(a);return k.map.apply(k,b)};return c}var s=typeof module!=="undefined"&&module.exports,l=B.document||{createElement:function(){},createDocumentFragment:function(){},createTextNode:function(){},getElementById:function(){}},w=Object.prototype.toString,o=Array.prototype.slice,z,p,A,t,D="a abbr acronym address area b bdo big blockquote body br button caption cite code col colgroup dd del dfn div dl dt em fieldset form frame frameset h1 h2 h3 h4 h5 h6 hr head html i iframe img input ins kbd label legend li link map meta noscript object ol optgroup option p param pre q samp script select small span strong style sub sup table tbody td textarea tfoot th thead title tr tt ul var".split(" "),
H=v(D),I=v("area base br col frame hr input img link meta param".split(" "));if(typeof jQuery!="undefined"){p=jQuery.attrFn;if(!s){z=function(a,c){return jQuery("<"+a+">",c).get(0)};A=function(a,c,b){jQuery("#"+a)[c](b)};t=function(a,c){jQuery(a).html(c)}}}else{p=v("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "));if(!s){var J=function(){var a=l.createElement("div");
a.style.display="none";a.innerHTML='<span style="color:silver;">s<span>';return/silver/.test(a.getElementsByTagName("span")[0].getAttribute("style"))}(),K=/^(?:href|src|style)$/,L={cellspacing:"cellSpacing","class":"className",colspan:"colSpan","for":"htmlFor",frameborder:"frameBorder",maxlength:"maxLength",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};z=function(a,c){var b=l.createElement(a),d;for(d in c){var e=c[d];d=L[d]||d;if(d in p)b["on"+d]=e;else{var f=K.test(d);
if((d in b||b[d]!==F)&&!f)b[d]=e;else if(!J&&d=="style")b.style.cssText=""+e;else b.setAttribute(d,""+e)}}return b};A=function(a,c,b){l.getElementById(a)["on"+c]=b};t=function(a,c){try{a.innerHTML=c}catch(b){var d=l.createElement("div");for(d.innerHTML=c;a.firstChild;)a.removeChild(a.firstChild);for(;d.firstChild;)a.appendChild(d.firstChild)}}}}q(i,String);i.prototype.toString=i.prototype.valueOf=function(){return this.value};q(j,Object);j.prototype._inlineFragments=function(){for(var a=0,c=this.childNodes.length;a<
c;a++){var b=this.childNodes[a];if(b instanceof h){this.childNodes.splice.apply(this.childNodes,[a,1].concat(b.childNodes));b.childNodes=[]}}};j.prototype.appendChild=function(a){if(a instanceof h){this.childNodes=this.childNodes.concat(a.childNodes);a.childNodes=[]}else this.childNodes.push(a)};j.prototype.cloneNode=function(a){var c=this._clone();if(a===true)for(var b=0,d=this.childNodes.length;b<d;b++){var e=this.childNodes[b];e instanceof g?c.childNodes.push(e.cloneNode(a)):c.childNodes.push(e)}return c};
j.prototype._clone=function(){return new Node};q(g,j);g.eventTrackerId=1;g.prototype.nodeType=1;g.prototype._clone=function(){var a=new g(this.tagName,u({},this.attributes));a.xhtml=this.xhtml;return a};g.prototype.toString=function(a){a=a||false;var c=H[this.tagName]?this.tagName:r(this.tagName),b=["<"+c],d;for(d in this.attributes)if(d in p){if(a===true&&!this.eventsFound)this.eventsFound=true}else b.push(" "+r(d.toLowerCase())+'="'+r(this.attributes[d])+'"');if(this.eventsFound&&!("id"in this.attributes)){this.id=
"__DB"+g.eventTrackerId++ +"__";b.push(' id="'+this.id+'"')}b.push(">");if(I[c]){this.xhtml&&b.splice(b.length-1,1," />");return b.join("")}d=0;for(var e=this.childNodes.length;d<e;d++){var f=this.childNodes[d];if(f instanceof g||f instanceof i)b.push(f.toString(a));else f==="\u00a0"?b.push("&nbsp;"):b.push(y(""+f))}b.push("</"+c+">");return b.join("")};g.prototype.addEvents=function(){if(this.eventsFound){var a="id"in this.attributes?r(this.attributes.id):this.id,c;for(c in this.attributes)c in p&&
A(a,c,this.attributes[c]);delete this.eventsFound;delete this.id}a=0;for(c=this.childNodes.length;a<c;a++){var b=this.childNodes[a];b instanceof g&&b.addEvents()}};g.prototype.insertWithEvents=function(a){t(a,this.toString(true));this.addEvents()};q(h,j);h.prototype._clone=function(){return new h};h.prototype.nodeType=11;h.prototype.nodeName="#document-fragment";h.prototype.toString=function(a){a=a||false;for(var c=[],b=0,d=this.childNodes.length;b<d;b++){var e=this.childNodes[b];if(e instanceof g||
e instanceof i)c.push(e.toString(a));else e==="\u00a0"?c.push("&nbsp;"):c.push(y(""+e))}return c.join("")};h.prototype.addEvents=function(){for(var a=0,c=this.childNodes.length;a<c;a++){var b=this.childNodes[a];b instanceof g&&b.addEvents()}};h.prototype.insertWithEvents=function(a){t(a,this.toString(true));this.addEvents()};var k={version:"1.4.1",mode:s?"HTML":"DOM",withMode:function(a,c){var b=this.mode;this.mode=a;try{return c()}finally{this.mode=b}},elementFunctions:function(a){for(var c=0,b;b=
D[c];c++)a[b.toUpperCase()]=G(b);return a}({}),apply:function(a){a=a||{};u(a,this.elementFunctions);a.NBSP="\u00a0";return a},createElement:function(a,c,b){c=c||{};b=b||[];C(b);if(this.mode!="DOM")return new g(a,c,b);a=z(a,c);c=0;for(var d=b.length;c<d;c++){var e=b[c];e.nodeType?a.appendChild(e):a.appendChild(l.createTextNode(""+e))}return a},map:function(a,c,b,d){if(m(c)){var e={};c=c;b=x(b)?b:null}else{e=c;c=b;b=x(d)?d:null}d=[];for(var f=0,M=c.length;f<M;f++){var E=u({},e);if(b!==null){var n=b(c[f],
E,f);if(n===null)continue}else n=c[f];m(n)||(n=[n]);d.push(this.createElement(a,E,n))}return d},fragment:function(){var a=arguments.length===1&&m(arguments[0])?arguments[0]:o.call(arguments);C(a);if(this.mode!="DOM")return new h(a);for(var c=l.createDocumentFragment(),b=0,d=a.length;b<d;b++){var e=a[b];e.nodeType?c.appendChild(e):c.appendChild(l.createTextNode(""+e))}return c},markSafe:function(a){return new i(a)},isSafe:function(a){return a instanceof i},HTMLElement:g,HTMLFragment:h,HTMLNode:j,SafeString:i};
k.fragment.map=function(a,c){if(!x(c))return k.fragment(a);for(var b=[],d=0,e=a.length;d<e;d++){var f=c(a[d],d);if(f!==null)b=b.concat(f)}return k.fragment(b)};if(s)module.exports=k;else B.DOMBuilder=k})(this);