/**
 * DOMBuilder 2.1.1 (modes: html [default]) - https://github.com/insin/DOMBuilder
 * MIT Licensed
 */
(function(){function o(e){return q[e]}var q={};o.define=function(e,c){var a={},d={};a.exports=d;c(a,d,o);if("[object Array]"==Object.prototype.toString.call(e))for(var d=0,g=e.length;d<g;d++)q[e[d]]=a.exports;else q[e]=a.exports};o.define(["isomorph/lib/is","./is"],function(e){var c=Object.prototype.toString;e.exports={Array:function(a){return"[object Array]"==c.call(a)},Boolean:function(a){return"[object Boolean]"==c.call(a)},Date:function(a){return"[object Date]"==c.call(a)},Empty:function(a){for(var d in a)return!1;
return!0},Error:function(a){return"[object Error]"==c.call(a)},Function:function(a){return"[object Function]"==c.call(a)},NaN:isNaN,Number:function(a){return"[object Number]"==c.call(a)},Object:function(a){return"[object Object]"==c.call(a)},RegExp:function(a){return"[object RegExp]"==c.call(a)},String:function(a){return"[object String]"==c.call(a)}}});o.define("isomorph/lib/object",function(e){var c=function(){var a=Object.prototype.hasOwnProperty;return function(d,g){return a.call(d,g)}}();e.exports=
{hasOwn:c,extend:function(a){for(var d=1,g=arguments.length,e;d<g;d++)if(e=arguments[d])for(var k in e)c(e,k)&&(a[k]=e[k]);return a},inherits:function(a,d){var g=function(){};g.prototype=d.prototype;a.prototype=new g;return a.prototype.constructor=a},items:function(a){var d=[],g;for(g in a)c(a,g)&&d.push([g,a[g]]);return d},fromItems:function(a){for(var d={},g=0,e=a.length,c;g<e;g++)c=a[g],d[c[0]]=c[1];return d},lookup:function(a){for(var d={},g=0,e=a.length;g<e;g++)d[""+a[g]]=!0;return d},get:function(a,
d,g){return c(a,d)?a[d]:g}}});o.define("isomorph/lib/array",function(e,c,a){var d=a("./is"),g=Array.prototype.splice;e.exports={flatten:function(a){for(var e=0,c=a.length,i;e<c;e++)i=a[e],d.Array(i)&&(c+=i.length-1,g.apply(a,[e,1].concat(i)),e--);return a}}});o.define(["./dombuilder/core","./core"],function(e,c,a){function d(n,f){return!!n&&"[object Object]"==s.call(n)&&(!f||!p.modes[f].isModeObject(n))}function g(n){return"[object Array]"==s.call(n)&&"undefined"==typeof n.isElement}function o(n){n.isElement=
!0;return n}function k(n){for(var f={},a=0,b;b=t[a];a++)f[b.toUpperCase()]=m(b,n);return f}function m(a,f){var h=function(){if(arguments.length){var b=r.call(arguments),h,e=b.length,c=b[0];if(1===e&&g(c))b=c;else if(d(c,"undefined"!=typeof f?f:p.mode))h=c,b=2==e&&g(b[1])?b[1]:b.slice(1);return p.createElement(a,h,b,f)}return(h="undefined"!=typeof f?f:p.mode)?p.modes[h].createElement(a,{},[]):o([a])};h.map=function(){var b=r.call(arguments);if(g(b[0]))var h={},d=b[0],b=j.Function(b[1])?b[1]:null;else h=
b[0],d=b[1],b=j.Function(b[2])?b[2]:null;return p.map(a,h,d,b,f)};return h}function i(a,f){return{index:a,first:0==a,last:a==f-1}}var j=a("isomorph/lib/is"),l=a("isomorph/lib/object"),q=a("isomorph/lib/array"),s=Object.prototype.toString,r=Array.prototype.slice,a=(c="undefined"!=typeof jQuery)?jQuery.attrFn:l.lookup("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error".split(",")),
t="a,abbr,acronym,address,area,article,aside,audio,b,bdi,bdo,big,blockquote,body,br,button,canvas,caption,cite,code,col,colgroup,command,datalist,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,hr,head,header,hgroup,html,i,iframe,img,input,ins,kbd,keygen,label,legend,li,link,map,mark,meta,meter,nav,noscript,object,ol,optgroup,option,output,p,param,pre,progress,q,rp,rt,ruby,samp,script,section,select,small,source,span,strong,style,sub,summary,sup,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,track,tt,ul,var,video,wbr".split(","),
u=c?function(a,f){jQuery(a).html(f)}:function(a,f){try{a.innerHTML=f}catch(h){var b=document.createElement("div");for(b.innerHTML=f;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}},p={version:"2.1.1",mode:null,modes:{},addMode:function(a){a=l.extend({isModeObject:function(){return!1},api:{},apply:{}},a);this.modes[a.name]=a;this[a.name]=l.extend(k(a.name),a.apply);null===this.mode&&(this.mode=a.name)},withMode:function(a,f){var h=this.mode;this.mode=a;try{return f.apply(null,
r.call(arguments,2))}finally{this.mode=h}},elements:k(),array:k(null),apply:function(a,f){f&&this.modes[f]?l.extend(a,this[f]):l.extend(a,this.elements);return a},build:function(a,f){for(var f=f||this.mode,h=a[0],b="#document-fragment"==h,e=!b&&d(a[1],f)?a[1]:null,c=a.length,g=[],i,l=null===e?1:2;l<c;l++)i=a[l],j.Array(i)?g.push(this.build(i,f)):g.push(i);return b?this.modes[f].fragment(g):this.modes[f].createElement(h,e,g)},createElement:function(a,f,h,b){f=f||{};h=h||[];if(b="undefined"!=typeof b?
b:this.mode)return q.flatten(h),this.modes[b].createElement(a,f,h);var a=[a],d;for(d in f){a.push(f);break}h.length&&(a=a.concat(h));return o(a)},textNode:function(a,f){f="undefined"!=typeof f?f:this.mode;return this.modes[f].textNode(a)},map:function(a,f,h,b,d){for(var e=[],c=0,j=h.length,m,k;c<j;c++){m=l.extend({},f);if(null!=b){if(k="undefined"!=typeof d?p.withMode(d,b,h[c],m,i(c,j)):b(h[c],m,i(c,j)),null===k)continue}else k=h[c];g(k)||(k=[k]);e.push(this.createElement(a,m,k,d))}return e},fragment:function(){var a=
function(){var f;f=1===arguments.length&&g(arguments[0])?arguments[0]:r.call(arguments);return this.mode?(q.flatten(f),this.modes[this.mode].fragment(f)):o(["#document-fragment"].concat(f))};a.map=function(f,a){if(!j.Function(a))return p.fragment(f);for(var b=[],d=0,c=f.length,e;d<c;d++)e=a(f[d],i(d,c)),null!==e&&(b=b.concat(e));return p.fragment(b)};return a}(),util:{EVENT_ATTRS:a,FRAGMENT_NAME:"#document-fragment",JQUERY_AVAILABLE:c,TAG_NAMES:t,setInnerHTML:u}};e.exports=p});o.define("./dombuilder/html",
function(e,c,a){function d(a){this.value=a}function g(a){return new d(a)}function o(a){return a instanceof d}function k(a){return a instanceof d?a.value:n(""+a)}function m(a){this.childNodes=a||[];this._inlineFragments();this.firstChild=this.childNodes.length?this.childNodes[0]:null}function i(a,h,b){m.call(this,b);this.tagName=this.nodeName=a.toLowerCase();this.attributes=h||{}}function j(a){m.call(this,a)}var e=a("./core"),l=a("isomorph/lib/object"),q=Array.prototype.splice,s=e.util.EVENT_ATTRS,
a=e.util.FRAGMENT_NAME,c=e.util.JQUERY_AVAILABLE,r=e.util.setInnerHTML,t=l.lookup(e.util.TAG_NAMES),u=l.lookup("area,base,br,col,command,embed,frame,hr,input,img,keygen,link,meta,param,source,track,wbr".split(",")),p=c?function(a,h,b){jQuery("#"+a)[h](b)}:function(a,h,b){document.getElementById(a)["on"+h]=b};l.inherits(d,String);d.prototype.toString=d.prototype.valueOf=function(){return this.value};var n=function(){var a=/&/g,h=/</g,b=/>/g,d=/"/g,c=/'/g;return function(e){return e.replace(a,"&amp;").replace(h,
"&lt;").replace(b,"&gt;").replace(d,"&quot;").replace(c,"&#39;")}}();l.inherits(m,Object);m.prototype._inlineFragments=function(){for(var a=0,h=this.childNodes.length,b;a<h;a++)b=this.childNodes[a],b instanceof j&&(q.apply(this.childNodes,[a,1].concat(b.childNodes)),b._clear())};m.prototype.appendChild=function(a){a instanceof j?(this.childNodes=this.childNodes.concat(a.childNodes),a._clear()):this.childNodes.push(a);null===this.firstChild&&(this.firstChild=this.childNodes[0])};m.prototype.cloneNode=
function(a){var h=this._clone();if(!0===a)for(var b=0,d=this.childNodes.length,c;b<d;b++)c=this.childNodes[b],c instanceof i&&(c=c.cloneNode(a)),0===b&&(h.firstChild=c),h.childNodes.push(c);return h};m.prototype.hasChildNodes=function(){return!!this.childNodes.length};m.prototype.removeChild=function(a){if(null!==this.firstChild&&a===this.firstChild)return this.firstChild=1<this.childNodes.length?this.childNodes[1]:null,this.childNodes.shift();for(var h=1,b=this.childNodes.length;h<b;h++)if(a===this.childNodes[h])return this.childNodes.splice(h,
1)[0];throw Error("Node was not found");};m.prototype._clone=function(){return new Node};l.inherits(i,m);i.eventTrackerId=1;i.prototype.nodeType=1;i.prototype._clone=function(){return new i(this.tagName,l.extend({},this.attributes))};i.prototype.toString=function(a){var a="undefined"!=typeof a?a:!1,h=t[this.tagName]?this.tagName:k(this.tagName),b=["<"+h],c;for(c in this.attributes)"innerHTML"!==c&&(s[c]?!0===a&&!this.eventsFound&&(this.eventsFound=!0):b.push(" "+k(c.toLowerCase())+'="'+k(this.attributes[c])+
'"'));this.eventsFound&&!l.hasOwn(this.attributes,"id")&&(this.id="__DB"+i.eventTrackerId++ +"__",b.push(' id="'+this.id+'"'));b.push(">");if(u[h])return b.join("");if(l.hasOwn(this.attributes,"innerHTML"))b.push(this.attributes.innerHTML);else{c=0;for(var e=this.childNodes.length,g;c<e;c++)g=this.childNodes[c],g instanceof i||g instanceof d?b.push(g.toString(a)):b.push(n(""+g))}b.push("</"+h+">");return b.join("")};i.prototype.addEvents=function(){if(this.eventsFound){var a=l.hasOwn(this.attributes,
"id")?k(this.attributes.id):this.id,c;for(c in this.attributes)s[c]&&p(a,c,this.attributes[c]);delete this.eventsFound;delete this.id}a=0;c=this.childNodes.length;for(var b;a<c;a++)b=this.childNodes[a],b instanceof i&&b.addEvents()};i.prototype.insertWithEvents=function(a){r(a,this.toString(!0));this.addEvents()};l.inherits(j,m);j.prototype._clear=function(){this.childNodes=[];this.firstChild=null};j.prototype._clone=function(){return new j};j.prototype.nodeType=11;j.prototype.nodeName=a;j.prototype.toString=
function(a){for(var a="undefined"!=typeof a?a:!1,c=[],b=0,e=this.childNodes.length,g;b<e;b++)g=this.childNodes[b],g instanceof i||g instanceof d?c.push(g.toString(a)):c.push(n(""+g));return c.join("")};j.prototype.addEvents=function(){for(var a=0,c=this.childNodes.length,b;a<c;a++)b=this.childNodes[a],b instanceof i&&b.addEvents()};j.prototype.insertWithEvents=function(a){r(a,this.toString(!0));this.addEvents()};e.addMode({name:"html",createElement:function(a,c,b){return new i(a,c,b)},textNode:function(a){return a},
fragment:function(a){return new j(a)},isModeObject:function(a){return a instanceof m||a instanceof d},api:{escapeHTML:n,conditionalEscape:k,isSafe:o,markSafe:g,SafeString:d,HTMLNode:m,MockElement:i,MockFragment:j},apply:{isSafe:o,markSafe:g}})});o.define("DOMBuilder",function(e,c,a){c=a("./dombuilder/core");a("./dombuilder/html");e.exports=c});window.DOMBuilder=q.DOMBuilder})();